# Quicksort의 장단점과 개선하는 방법

## 답안

> Quicksort의 장점은 O(n log n)의 시간 복잡도를 가진 정렬 알고리즘 중 평균적으로 가장 빠른 속도를 보여준다.  다만 Pivot이 배열의 최대 혹은 최솟값을 가지게 되면 배열이 편향적으로 분할이 되고, 이러한 상황이 반복되는 경우  O(n^2)이라는 시간 복잡도를 가지게 된다. 즉 이미 정렬된 배열의 경우에는 Pivot이 최악의 값만 가지게 되므로 낮은 성능을 가진다는 단점을 가지고 있다.

Quciksort를 개선하기 위해서는 적절한 Pivot값을 고르게 해야 한다. Pivot의 값을 무작위로 선택하는 Random Pivot방법이나, 왼쪽, 중앙, 오른쪽 값 중 중간 값을 Pivot으로 설정하는 Midian of Three방법을 사용하면 편항적인 배열 분할을 막을 수 있다. 
또한 Quick sort 중 하위 배열의 크기가 어느 정도 작아지는 경우 크기가 작은 배열에서 효율이 좋은 Insertion sort로 정렬을 진행하여 재귀로 인한 성능 하락을 방지해 개선할 수 있다.
> 

## 자료 조사

- Quicksort
    
    > **Quicksort** :  분할 정복 방법을 통해 주어진 배열을 정렬하는 알고리즘으로 다른 원소와의 비교 만으로 정렬을 수행하는 `비교 정렬`에 속하며, 중복된 값이 기존 순서와 동일하지 않게 정렬되는 ****`불안정 정렬`이다.
    > 
- Process
    1. pivot으로 잡을 값 하나를 정한다. (일반적으로 가장 왼쪽이나 오른쪽)
    2. pivot의 값보다 작은 원소들은 왼쪽에, 큰 원소들은 오른쪽에 재배치한다.
    3. 이후 나눠진 값에 대해 다시 피벗을 설정한 후 위의 과정을 반복한다.

- 시간 복잡도
    
    
    | 최선 | O(n log n) |
    | --- | --- |
    | 최악 | O(n^2) |
    | 평균 | O(n log n) |
    - 최선과 평균의 경우 O(n log n)의 시간 복잡도를 가진다.
    - 정렬된 배열(오름차순 or 내림차순)인 경우 최악의 시간 복잡도인 n^2을 가진다.

- 공간 복잡도
    
    
    | 평균 | O(log n) |
    | --- | --- |
    | 최악 | O(n) |
    - 재귀적 호출로 인해 평균적으로O(log n)의 공간 복잡도를 보이며, 최악의 경우 O(n)의 공간 복잡도를 가진다.
    - 실용적인 측면에서 보았을 때 상대적으로 작은 메모리를 더 사용하기에 흔히 제자리 정렬로 불린다.

- 장점
    - 시간 복잡도를 O(n log n)로 가지는 정렬 알고리즘 중 평균적으로 가장 빠른 속도를 보여준다.
- 단점
    - Pivot이 분할 된 배열의 최댓값이거나 최솟값일 경우 비 대칭적인 분할이 이루어지며, 이 경우 재귀의 깊이가 깊어지면서  시간 복잡도가 O(n^2)이 된다. 따라서 Pivot을 왼쪽 혹은 끝으로 정하는 Quicksort의 특성 상 이미 정렬이 된 배열인 경우 낮은 성능을 보여준다.
- 개선 방안
    - Random pivot
        
        > Pivot값을 무작위로 선택하는 방법으로 속도가 확률에 의해 결정된다.
        > 
    - Median of Three
        
        > 배열의 왼쪽, 중앙, 오른쪽 중 중간 값을 Pivot으로 설정한다.
        > 
    - Hybrid Quick sort(with Insertion sort)
        
        > 삽입 정렬은 구현이 간단하고 크기가 작은 배열에서는 매우 효율이 좋다.
        작은 구간에 대해서는 삽입 정렬을 사용하여 퀵 정렬의 재귀의 깊이를 줄여줌으로써 속도의 향상을 기대할 수 있다.
        > 

---

## 꼬리 질문

- Midian of Three에 대해 설명하라
- Quicksort의 공간복잡도
- Quicksort의 프로세스를 설명하라

---

## 참고 자료

Wikipidia : 
[퀵 정렬](https://ko.wikipedia.org/wiki/%ED%80%B5_%EC%A0%95%EB%A0%AC),
[정렬 알고리즘](https://ko.wikipedia.org/wiki/%EC%A0%95%EB%A0%AC_%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98)

개발 블로그 : 
[gusdnd852](https://gusdnd852.tistory.com/), 
[jobhope](https://github.com/jobhope/TechnicalNote/blob/master/algorithm/QuickSort.md)