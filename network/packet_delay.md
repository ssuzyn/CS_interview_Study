# Packet delay 중 가장 예측하기 힘든 delay에 대해 설명해주세요.

- **자료 조사**
    - **네트워크를 통한 데이터 전송 방식**
        
        네트워크 통신망에서는 정보를 전송하는 방식을 크게 2가지로 나눌 수 있습니다.
        
        1. 회선 교환 방식 (Circuit switching)
        2. 패킷 교환 방식 (Packet switching)
        
        - **회선 교환 방식 (Circuit switching)**
            
            ![회선 교환 방식](https://github.com/BangDori/CS_interview_Study/blob/main/network/img/CircuitSwitching-%EA%B0%95%EB%B3%91%EC%A4%80.jpg)
                        
            위 사진처럼, 회선 교환 방식은 Sender와 Receiver간에 전용 통신 경로를 설정하여 데이터를 주고받는 방식입니다. 회선 교환 방식 방식에서는 정보를 전송하기 위해 미리 통신 경로를 확보하고, 그 경로를 따라 정보를 전송합니다. 이 때 경로는 물리적으로 연결하고, 전송 중에는 경로가 유지되므로 전송 중에는 다른 통신이 불가능합니다. 따라서 전송량이 많을 경우에는 회선이 모두 사용중이 되어 다른 통신이 불가능하며, 비효율적인 자원 사용이 될 수 있습니다.
            
            회선 교환 방식이 사용되는 예시로는 유선 전화기 통화가 있습니다. 전화기로 전화를 걸면 상대방 전화기와의 경로를 확보하고, 이후에는 그 경로를 따라 음성 전보가 전송됩니다. 이 때, 경로가 유지되는 동안에는 전용 회선이 사용중이기 때문에, 다른 전화 통화나 데이터 통신이 불가능합니다.
            
            다음은 회선 교환 방식의 특징입니다.
            
            1. 전용 회선을 설치해야 한다. (이 과정을 Call Setup 과정이라고 부릅니다.)
            2. 전용 회선을 사용하므로, 자원을 독점할 수 있다.
            3. 전용 회선을 사용하기 때문에, 성능이 보장된다.
            4. 전용 회선을 사용하기 때문에, 동시에 여러 통신이 불가능하다.
        - **패킷 교환 방식 (Packet switching)**
            
            ![패킷 교환 방식](https://github.com/BangDori/CS_interview_Study/blob/main/network/img/PacketSwitching-%EA%B0%95%EB%B3%91%EC%A4%80.gif)
            
            패킷 교환 방식은 컴퓨터 네트워크와 통신의 방식 중 하나로 현재 가장 많은 사람들이 사용하는 통신 방식입니다. 작은 블록의 패킷으로 데이터를 전송하며 데이터를 전송하는 동안만 네트워크 자원을 사용하도록 하는 방법을 의미합니다. 
            
            패킷 교환 방식은 여러 사용자가 네트워크를 공유하며 데이터를 전송하는데, 회선을 공유하므로, 동시에 데이터가 들어가게 되면 각 패킷은 큐(Queue)라는 대기열에 저장됩니다. 각 패킷은 큐에 저장된 순서대로 전송되며, 전송 가능한 회선이 생길 때마다 먼저 도착한 패킷부터 전송됩니다.
            
            장점
            
            - 회선을 여러 사용자가 공유해 데이터를 전송할 수 있기 때문에, 회선 교환 방식보다 유연하고 효율적입니다.
            - 회선을 여러 사용자가 공유하므로 전체 대역폭을 효율적으로 사용할 수 있습니다.
    - **Packet Delay: Four Sources**
        
        ![패킷 교환 방식](https://github.com/BangDori/CS_interview_Study/blob/main/network/img/PacketDelay-%EA%B0%95%EB%B3%91%EC%A4%80.png)
        
        1. **노드 처리 지연(Nodal processing delay)**
            
            컴퓨터가 패킷을 전송하면, 라우터가 패킷의 헤더를 체크하고 어느 출력 링크로 보낼지 결정하는 시간으로 패킷의 비트 수준 오류를 조사하는데 필요한 시간
            
        2. **큐잉 지연 (Queueing delay)**
            
            라우터로 패킷들이 한번에 많이 들어올 경우, 라우터는 패킷들을 queue 형태로 보관하여 차례대로 처리하는데, 이 때 전송을 위해 출력 링크의 큐에서 기다리면서 발생하는 지연
            
        3. **전송 지연 (Transmission delay)**
            
            Queue를 빠져나가 라우터의 출력 링크를 통해 빠져나가기 전까지 발생하는 delay이다. 즉, 전송하려는 패킷을 출력 링크로 밀어내는데 걸리는 시간이다.
            
        4. **전파 지연 (Propagation delay)**
            
            실제 회선을 타고 데이터가 전송될 때 발생하는 delay이다.
            
        
        **총 지연시간** = 노드 처리 지연 + 큐잉 지연 + 전송 지연 + 전파 지연 시간
        
- **답안**
    
    Packet delay 중 가장 예측하기 힘든 delay는 Queueing delay 입니다. Queueing delay는 패킷이 라우터에 도착했을 때, 해당 회선의 큐(Queue)에 대기하고 있어야 하는 딜레이를 의미합니다.
    
    큐잉 딜레이는 패킷의 도착 시간과 출발 시간 간의 차이로, 전송 회선의 속도, 패킷의 우선순위, 패킷의 크기 등에 영향을 받으며 네트워크 트래픽 부하 상황에 따라 속도가 다르기 때문에 가장 예측하기 힘든 딜레이입니다.
    
    (원호 답) 전파 지연 시간은 물리적인 회선을 타고 발생하기 때문에 주변의 전자기적 간섭이 발생할 수 있어, 이런 간섭에 대해 예측을 하려면 추가적인 장치가 필요하게 되기 때문에 전파 지연이 가장 예측하기 힘든 delay라고 생각된다.
    
- **참고 자료**
    1. 네트워크 - (박영덕 교수님)
    2. 네트워크 전달방식 비교 (Packet switching, Circuit switching) - MyCloud ([url](https://swalloow.tistory.com/55))
    3. 패킷 교환 - 위키피디아 ([url](https://ko.wikipedia.org/wiki/%ED%8C%A8%ED%82%B7_%EA%B5%90%ED%99%98))
