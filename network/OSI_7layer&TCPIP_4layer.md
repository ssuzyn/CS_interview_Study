# 3주차

---

<img src=img/OSI7계층.png></img>
OSI 7 계층은 Open Systems Interconnection (개방형 시스템 상호 연결) 모델로, 데이터 통신의 모든 측면을 설명하는 국제 표준 모델입니다. 이 모델은 7개의 계층으로 구성되어 있으며, 각 계층은 고유한 역할을 수행합니다.

- **OSI 7계층을 나눈 이유는?**
    
    흐름을 한눈에 알아보기 쉽고 7단계 중 특정한 곳에 이상이 생기면 다른 단계의 장비 및 소프트웨어를 건들이지 않고도 이상이 생긴 단계만 고칠 수 있기 때문이다.
    
    <img src=img/OSI7&TCPIP4.png></img>
    - TCP/IP 4계층
        
        TCP/IP 모델은 총 4계층으로 이루어져 있으며, OSI 모델과 다르게 응용 계층과 표현 계층, 세션 계층이 하나로 통합되어 있습니다.
        
        1. 네트워크 액세스 계층 : 물리적인 데이터 전송 방법과 전송 매체를 정의하고 관리합니다.
        2. 인터넷 계층 : 데이터 패킷을 전송하고 받기 위한 프로토콜을 정의하며, 라우팅 기능을 수행합니다.
        3. 전송 계층 : 데이터를 안정적으로 전송하기 위한 프로토콜을 정의하고, 비정상적인 연결이나 중복 데이터를 처리하는 기능을 담당합니다.
        4. 응용 계층 : 최종 사용자가 접하는 애플리케이션과 상호작용하며, 데이터의 처리, 전송 및 제어를 담당하는 기능을 담당합니다.
    - **7계층에서 5계층으로 줄인 이유는?**
        1. 기능적 유사성
        세션(Session) 계층과 표현(Presentation) 계층, 그리고 응용(Application) 계층은 모두 사용자와 컴퓨터 간의 상호작용을 담당하며, 데이터의 표현, 암호화, 세션 관리 등의 기능을 수행합니다. 이러한 기능적 유사성 때문에 이 세 계층을 하나로 합치면서 기능 구현을 단순화하고, 효율적인 데이터 전송을 가능하게 할 수 있습니다.
        2. 계층 구조 단순화
        OSI 모델에서는 7개의 계층으로 구성되어 있기 때문에 이를 구현하고 유지하기 위해서는 복잡한 시스템과 프로토콜이 필요합니다. 따라서 계층 구조를 단순화하고, 계층 간의 중복되는 기능을 제거함으로써 시스템을 단순화하고, 유지보수를 용이하게 할 수 있습니다.
        3. 프로토콜 스택 간소화
        세션 계층, 표현 계층, 응용 계층은 각각의 프로토콜 스택을 가지고 있습니다. 이러한 프로토콜 스택이 많을수록 데이터 전송에 필요한 리소스가 많이 사용되어 성능이 저하될 가능성이 높습니다. 따라서 세션, 표현, 응용 계층을 하나의 계층으로 합치면서 프로토콜 스택을 간소화하고, 성능을 향상시킬 수 있습니다.
        
        따라서 세션, 표현, 응용 계층을 하나의 계층으로 합침으로써 기능 구현을 단순화하고, 계층 구조를 단순화하며, 프로토콜 스택을 간소화함으로써 OSI 모델의 구현과 유지보수를 용이하게 할 수 있습니다.
        
    - **TCP/IP 4계층보다 많은** **OSI 7계층으로 나눈 이유는?**
        
        4계층은 "전송 계층", 5계층은 "세션 계층", 6계층은 "표현 계층", 7계층은 "응용 계층"으로 나누는 이유는 다음과 같습니다.
        
        1. 계층 구조의 이점
        계층 구조는 복잡한 시스템을 단순화하고 관리하기 쉽게 만듭니다. 각 계층은 자체적인 역할과 책임을 가지므로, 개발과 유지보수가 용이해집니다.
        2. 표준화된 프로토콜
        각 계층마다 표준화된 프로토콜이 있습니다. 이를 따르면 다른 시스템과의 상호 운용성이나 확장성이 높아집니다.
        3. 계층 간 독립성
        서로 다른 계층 간 독립성이 보장됩니다. 각 계층은 서로와 직접 통신하지 않고, 하위 계층에서 상위 계층으로 정보를 전달하기 때문입니다.
        4. 계층별 기능 분리
        각 계층의 기능이 분리되어 있는 덕분에, 하위 계층에서 일어나는 변화가 상위 계층에 영향을 미치지 않습니다. 이는 시스템의 안정성과 신뢰성을 높여줍니다.
    - **OSI 7계층가 아닌** **TCP/IP 4계층을 사용하는 이유는?**
        
        TCP/IP 프로토콜 스택은 OSI 7계층 모델과 다르게 4계층 모델을 사용합니다. 이는 TCP/IP 프로토콜 스택이 인터넷에서 일반적으로 사용되는 프로토콜 스택이기 때문입니다.
        
        TCP/IP 4계층 모델은 다음과 같습니다.
        
        1. 네트워크 액세스 계층 (Network Access Layer)
        2. 인터넷 계층 (Internet Layer)
        3. 전송 계층 (Transport Layer)
        4. 응용 계층 (Application Layer)
        
        네트워크 액세스 계층은 하드웨어와 직접적으로 연결되며, 데이터 링크 계층과 물리적 계층의 일부를 포함합니다. 인터넷 계층은 IP 프로토콜과 같은 프로토콜을 사용하여 데이터 패킷을 라우팅하고 전송 계층으로 전달합니다. 전송 계층은 TCP 또는 UDP 프로토콜을 사용하여 데이터를 분할하고, 전송을 관리합니다. 마지막으로, 응용 계층은 HTTP, FTP, SMTP 등과 같은 응용 프로그램에 대한 인터페이스를 제공합니다.
        
        TCP/IP 프로토콜 스택이 OSI 7계층 모델 대신 4계층 모델을 사용하는 이유는, TCP/IP 프로토콜 스택이 인터넷에서 일반적으로 사용되는 프로토콜 스택이기 때문입니다. 또한, 7계층 모델은 개념적으로는 유용하지만, 실제적으로는 복잡하고 구현하기 어려울 수 있습니다. 따라서, TCP/IP 프로토콜 스택은 4계층 모델을 사용하여 간단하고 효율적인 프로토콜 스택을 제공하며, 이를 통해 인터넷과 같은 대규모 네트워크에서 효과적으로 작동할 수 있습니다.
        
- 1. 물리 계층
    - 전기적 신호가 나가는 물리적인 장비
    - 이 계층에서는 단지 데이터를 전달할뿐, 전송하려는(또는 받으려는) 데이터가 무엇인지, 어떤 에러가 있는지 등에 대해서는 신경쓰지 않는다.
    - 단지 데이터를 전기적인 신호로 변환해서 주고받는 기능만 있을 뿐이다.
    
    → 이 계층에 속하는 대표적인 장비는**통신 케이블, 리피터, 허브**등이 있다.
    
    - 허브(hub)
        
        여러 대의 컴퓨터와 네트워크 장비들을 연결하는 장치이다. 정식 명칭은 **이더넷 허브**
        (ethernet hub)이다. 허브는 네트워크 스위치(network switch)에 비해 속도는 느리지만 가격이 저렴한 장점이 있다. [스위치](http://wiki.hash.kr/index.php/%EC%8A%A4%EC%9C%84%EC%B9%98) 가격이 하락하면서 기존의 허브는 대부분 사라지고 있다.
        
    - 이더넷, 와이파이
        1. 이더넷(Ethernet): 컴퓨터 네트워크에서 가장 널리 사용되는 유선 LAN(LAN) 프로토콜로, 물리적인 케이블로 데이터를 전송합니다. IEEE 802.3 표준에 따라 정의되어 있으며, 일반적으로 10Mbps, 100Mbps, 1Gbps, 10Gbps 등의 속도를 지원합니다.
        2. Wi-Fi: 무선 LAN(WLAN)에서 사용되는 프로토콜로, IEEE 802.11 표준에 따라 정의되어 있습니다. 무선 액세스 포인트(Wireless Access Point)을 통해 컴퓨터나 스마트폰 등의 장치가 무선으로 인터넷에 연결됩니다.
- 2.데이터 링크 계층(Data Link Layer)
    - 물리계층을 통해 송수신되는 정보의 오류와 흐름을 관리하여 안전한 정보의 전달을 수행할 수 있도록 도와주는 역할. 따라서 통신에서의 오류도 찾아주고 재전송도 하는 기능을 가지고 있다.
    - 이 계층에서는 맥 주소를 가지고 통신하게 된다.
    - 데이터 링크 계층은 포인트 투 포인트(Point to Point)간 신뢰성 있는 전송을 보장하기 위한 계층으로 CRC기반의 오류 제어와 흐름 제어가 필요하다.
    
    → 이 계층에서 전송되는 단위를 프레임이라고 하고, 대표적인 장비로는 **브리지, 스위치** 등이 있다.(여기서 MAC주소를 사용한다.)
    
    - 스위치
        
        네트워크 스위치는 컴퓨터와 같은 2개 이상의 IT 디바이스가 서로 통신하도록 허용하는 장비입니다. 여러 IT 디바이스를 연결하면 통신 네트워크가 생성됩니다. 이 통신 네트워크상에서 컴퓨팅, 인쇄, 서버, 파일 스토리지, 인터넷 액세스 및 기타 IT 리소스를 공유할 수 있습니다.
        
        IT 디바이스는 네트워크상에서 "패킷"을 교환하는 방식으로 통신합니다. 기본 스위치는 특정 디바이스의 패킷을 다른 디바이스로 전달하며, 패킷을 지정된 목적지에 보내도 될지 결정하는 등 좀 더 복잡한 작업은 보통 다른 유형의 네트워크 디바이스가 담당합니다.
        
- 3.네트워크 계층(Network Layer)
    - 경로(Route)와 주소(IP)를 정하고 패킷을 전달해주는 것이 이 계층의 역할이다.
    - 즉, 목적지까지 가장 안전하고 빠르게 데이터를 보내는 기능을 말한다. 따라서 최적의 경로를 설정해야 한다.
    - 이런 라우팅 기능을 맡고 있는 계층이 네트워크 계층이다.
    
    → 이 계층의 대표적인 장비는 라우터 이며, 요즘은 2계층의 장비 중 스위치라는 장비에 라우팅 기능을 장착한 Layer 3 스위치도 있다. (여기서 IP주소를 사용한다.)
    
    - 라우터
        
        라우터는 컴퓨팅 디바이스와 네트워크를 다른 네트워크에 연결하는 네트워킹 디바이스입니다. 라우터는 주로 3가지 기본 기능을 수행합니다.
        
- 4.전송 계층(Transport Layer)
    - 양 끝단의 사용자들 간의 신뢰성있는 데이터를 주고 받게 해주는 역할을 한다.
    - 송신자와 수신자 간의 신뢰성있고 효율적인 데이터를 전송하기 위하여 오류검출 및 복구, 흐름제어와 중복검사 등을 수행한다.
    - 데이터 전송을 위해서 Port 번호가 사용이 된다. 대표적인 프로토콜로는 TCP와 UDP.
    - TCP와 UDP
        
        TCP는 신뢰성있는 데이터 전송을 보장하고, 데이터의 순서를 보존하며, 패킷의 손실이나 무결성 문제 등을 해결하는 기능을 제공합니다. UDP는 데이터 전송 속도가 빠르며, 연속성이나 신뢰성보다는 빠른 전송을 중요시하는 응용 프로그램에서 사용됩니다. 
        
- 5.세션 계층(Session Layer)
    - 응용 프로세스가 통신을 관리하기 위한 방법을 정의한다.
    - 이 계층은 TCP/IP 세션을 만들고 없애는 역할을 하고 있다.
    - HTTP와 HTTPS의 차이점 
    HTTP와 HTTPS는 모두 인터넷에서 데이터를 전송하는 프로토콜입니다. 하지만 이들 사이에는 중요한 차이점이 있습니다.
        
        HTTP는 기본적으로 암호화되지 않은 텍스트 기반으로 데이터를 전송합니다. 이는 전송되는 데이터를 쉽게 엿볼 수 있다는 것을 의미합니다. 이러한 문제를 해결하기 위해 HTTPS가 사용됩니다.
        
        HTTPS는 HTTP의 보안 버전이며, 암호화된 데이터를 전송하고 암호화된 연결을 설정하는 프로토콜입니다. HTTPS는 SSL(Secure Socket Layer) 또는 TLS(Transport Layer Security)을 사용하며, 이를 통해 데이터의 기밀성, 무결성 및 인증을 보장합니다. 암호화된 연결을 설정함으로써, 데이터가 제3자에게 노출되는 것을 방지할 수 있습니다.
        
        즉, HTTP는 보안성이 떨어지는 반면, HTTPS는 보안성이 향상되고 데이터의 안전성이 보장됩니다. 따라서, 안전한 정보를 전송할 경우 HTTPS를 사용하는 것이 좋습니다.
        
- 6.표현 계층(Presentation Layer)
    - 전송하는 데이터의 표현방식을 결정한다. (예: 데이터변환,압축,암호화 등)
    - GIF,JPEG,ASCII,Unicode,MIME 등
        1. ASCII (American Standard Code for Information Interchange): 영문 알파벳, 숫자, 특수문자 등을 나타내는 7비트 코드로 이루어진 문자 인코딩 방식이며, 텍스트 데이터를 전송하는데 사용됩니다.
        2. Unicode: 전 세계적으로 사용되는 모든 문자를 모아놓은 국제 표준 문자 집합으로, UTF-8, UTF-16, UTF-32 등 다양한 문자 인코딩 방식이 있습니다.
        3. MIME (Multipurpose Internet Mail Extensions): 이메일에서 첨부 파일 및 멀티미디어 데이터를 전송하기 위한 방식으로, 전송되는 데이터의 유형을 인식하고, 해당 데이터를 올바르게 표현하기 위한 방법을 제공합니다.
        4. SSL/TLS (Secure Sockets Layer/Transport Layer Security): 웹에서 암호화된 데이터를 전송하기 위한 보안 프로토콜입니다. SSL/TLS는 웹 브라우저와 서버 간의 통신을 암호화하여 데이터의 안정성을 보장합니다.
        5. JPEG (Joint Photographic Experts Group): 디지털 이미지를 압축하여 저장하는 데 사용되는 파일 형식으로, 그래픽과 영상과 같은 비트맵 이미지를 표현하는 데 사용됩니다.
        6. MPEG (Moving Picture Experts Group): 디지털 비디오와 오디오 데이터를 압축하고 전송하기 위한 국제 표준 형식으로, MPEG-1, MPEG-2, MPEG-4 등 다양한 형식이 있습니다.
    
    표현계층은 3가지 기능을 가지고 있다.
    
    1. 송신자에서 온 데이터를 해석하기 위한 응용계층 데이터 부호화, 변화
    2. 수신자에서 데이터의 압축을 풀수 있는 방식으로 된 데이터 압축
    3. 데이터의 암호화와 복호화
- 7.응용 계층(Application Layer)
    - 사용자와 가장 가까운 계층이 바로 응용 계층이다.
    - 우리가 사용하는 응용 서비스나 프로세스가 바로 응용계층에서 동작.
    - 대표적으로 우리가 잘 알고있는 HTTP, FTP 등의 프로토콜이 응용 계층에 속한다.

<img src=img/OSI7계층구조.png></img>
- 예시
    
    PC방에서 롤을 하다가 연결이 끊겼을 때, 다음과 같은 절차를 따라 문제를 해결할 수 있습니다.
    
    1. 먼저, 게임 클라이언트에서 연결이 끊긴 것인지, 인터넷 연결 자체가 끊긴 것인지 확인해야 합니다. 다른 인터넷 서비스나 웹사이트를 이용하여 인터넷 연결 상태를 확인할 수 있습니다.
    2. 인터넷 연결이 끊긴 것으로 확인되면, 먼저 네트워크 케이블이 제대로 연결되어 있는지 확인합니다. 만약 케이블이 빠져있다면 다시 꽂아주고, 연결부분에 이물질이 있는 경우 정리합니다.
    3. 만약 케이블 연결이 문제가 없다면, 라우터나 스위치의 상태를 확인합니다. 라우터나 스위치가 고장난 경우, 해당 장비를 교체하거나 수리할 필요가 있습니다.
    4. 라우터나 스위치의 상태가 정상이라면, 인터넷 서비스 제공자(ISP)에 문제가 있는지 확인해야 합니다. 이 경우, ISP의 고객센터에 문의하여 확인할 수 있습니다.
    5. 만약 인터넷 연결이 정상적으로 복구되었는데도 게임 클라이언트에서 연결이 안되는 경우, 게임 클라이언트나 게임 서버 측에 문제가 있을 수 있으므로 해당 서비스의 고객센터나 커뮤니티를 참고하여 문제를 해결할 수 있습니다.

### 질문1. OSI 7 계층에 대해 설명하세요.

**질문 답변**

데이터 통신의 모든 측면을 설명하는 국제 표준 모델입니다. 이 모델은 7개의 계층으로 구성되어 있는데

1. 물리 계층
2. 데이터 링크 계층
3. 네트워크 계층
4. 전송 계층
5. 세션 계층
6. 표현 계층
7. 응용 계층

이 있습니다.

---

### 질문2. **OSI 7계층가 아닌** **TCP/IP 4계층을 사용하는 이유는?**

**질문 답변**

TCP/IP 프로토콜 스택이 OSI 7계층 모델 대신 4계층 모델을 사용하는 이유는, TCP/IP 프로토콜 스택이 인터넷에서 일반적으로 사용되는 프로토콜 스택이기 때문입니다. 또한, 7계층 모델은 개념적으로는 유용하지만, 실제적으로는 복잡하고 구현하기 어려울 수 있습니다. 따라서, TCP/IP 프로토콜 스택은 4계층 모델을 사용하여 간단하고 효율적인 프로토콜 스택을 제공하며, 이를 통해 인터넷과 같은 대규모 네트워크에서 효과적으로 작동할 수 있습니다.
